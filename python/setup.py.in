from distutils.core import setup
import pkg_resources
import os
import shutil
from glob import glob

libs = glob('${PROJECT_BINARY_DIR}/lib/*python*.so')

for idx, l in enumerate(libs):
    shutil.copy2(l, '${CMAKE_CURRENT_BINARY_DIR}/volcart/')
    libs[idx] = os.path.basename(l)

setup(
    name='volcart',
    version='${PROJECT_VERSION}',

    package_dir={'volcart': '${CMAKE_CURRENT_BINARY_DIR}/volcart'},
    packages=['volcart'],
    package_data={'volcart': libs},

    author="Digital Restoration Initiative",
    author_email="c.seth.parker@uky.edu",
    description="Python wrapper around the Volume Cartographer library"
)